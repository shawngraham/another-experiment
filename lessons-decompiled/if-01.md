---
id: if-01
title: The Forking Path: Stories as Dictionaries
moduleId: interactive-fiction
prerequisites:
  - python-basics
estimatedTimeMinutes: 30
difficulty: beginner
learningObjectives:
  - Represent a branching narrative as a Python dictionary of passages
  - Look up passages by ID and display their text and choices
  - Understand the connection between hypertext theory and data structures
keywords:
  - interactive fiction
  - branching narrative
  - dictionary
  - hypertext
  - Borges
---

# The Forking Path: Stories as Dictionaries

## Analogy

In Jorge Luis Borges' famous story "The Garden of Forking Paths" (1941), a novel is described in which every possible outcome of every event occurs simultaneously, each branching into further possibilities. This is not just a literary conceit â€” it is a precise description of a data structure. Every hypertext narrative, from early works like Michael Joyce's *afternoon, a story* (1987) to modern interactive fiction, is built on the same principle: a network of passages connected by choices. In Python, we can represent this network with a dictionary, where each key is a passage ID and each value holds the passage's text and its branching choices. The dictionary *is* the garden.

## Key Concepts

### Passages as Dictionary Entries

A branching story is a collection of **passages**. Each passage has:
- A unique **ID** (the dictionary key)
- **Text** displayed to the reader
- **Choices** that link to other passages

:::definition
**Passage**: A single unit of narrative in interactive fiction, containing text the reader sees and zero or more choices leading to other passages.
:::

:::definition
**Hypertext narrative**: A non-linear text composed of linked passages (or "lexia"), where the reader's choices determine the path through the story.
:::

We represent the entire story as a dictionary of dictionaries:

```python
story = {
    "start": {
        "text": "You stand at the entrance to a Victorian library.",
        "choices": {"Open the door": "foyer", "Read the sign": "sign"}
    },
    "foyer": {
        "text": "Tall shelves line every wall. A librarian nods at you.",
        "choices": {"Ask about special collections": "special", "Browse freely": "stacks"}
    },
    "sign": {
        "text": "The sign reads: 'Hours 9-5. Rare manuscripts by appointment only.'",
        "choices": {"Open the door": "foyer"}
    },
    "special": {
        "text": "The librarian leads you to a locked room of illuminated manuscripts.",
        "choices": {}
    },
    "stacks": {
        "text": "You wander the stacks and discover a forgotten first edition.",
        "choices": {}
    }
}
```

### Looking Up a Passage

To display a passage, look up its ID in the dictionary:

```python
current = "start"
passage = story[current]
print(passage["text"])
# Output: You stand at the entrance to a Victorian library.
```

### Listing Available Choices

The `"choices"` field is itself a dictionary mapping choice labels (what the reader sees) to destination passage IDs:

```python
passage = story["start"]
for label in passage["choices"]:
    print(f"  > {label}")
# Output:
#   > Open the door
#   > Read the sign
```

### Navigating to the Next Passage

In a real interactive program, a reader would click or type a choice. In our sandbox (where `input()` is not available), we simulate a choice by looking up the label in the choices dictionary:

```python
# Simulate choosing "Open the door"
choice_made = "Open the door"
next_id = story["start"]["choices"][choice_made]
print(story[next_id]["text"])
# Output: Tall shelves line every wall. A librarian nods at you.
```

### Walking a Full Path

We can walk through an entire sequence of choices:

```python
story = {
    "start": {
        "text": "You enter the medieval hall.",
        "choices": {"Go north": "chapel"}
    },
    "chapel": {
        "text": "A small chapel with stained glass.",
        "choices": {"Examine the altar": "altar"}
    },
    "altar": {
        "text": "Behind the altar, you find a hidden passage.",
        "choices": {}
    }
}

path = ["Go north", "Examine the altar"]
current = "start"
print(story[current]["text"])

for choice in path:
    current = story[current]["choices"][choice]
    print(story[current]["text"])
```

This prints each passage's text as we move through the story.

## Practice

:::try-it
Create a small story dictionary with 3 passages: `"start"\

---challenges---
